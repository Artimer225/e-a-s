<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>Etch-A-Sketch</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="btn">
        <button id="popup">Change grid size</button>
    </div>

    <div id="container">

     </div>
    <script>
        const container = document.querySelector('#container');
        const btn = document.querySelector('#popup');
        btn.addEventListener('click', () => {
            let numOfSquares = parseInt(prompt());
            createGrid(numOfSquares);
            let elements = document.querySelectorAll('.gridDiv');
            elements.forEach( (item) =>
                item.addEventListener('mouseover', () => item.style.backgroundColor = 'red'))
        })

        function createGrid (numOfSquares = 16) {
            for (let i = 0; i < numOfSquares; i++) {
                let layer = document.createElement('div');
                layer.className = 'layer'
                container.appendChild(layer)
                for (let j = 0; j < numOfSquares; j++) {
                    let gridDiv = document.createElement('div');
                    gridDiv.className = 'gridDiv';
                    layer.appendChild(gridDiv)
                }
            }
        }
        createGrid()

        function clearGrid () {

        }

        let elements = document.querySelectorAll('.gridDiv');
        elements.forEach( (item) =>
            item.addEventListener('mouseover', () => item.style.backgroundColor = 'red'))

    </script>
</body>
</html>